<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1">
	
	<title>MIXR</title>
	
	<!--CSS and Style-->
	<link href="https://fonts.googleapis.com/css?family=Monoton" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Raleway:400,700" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Roboto+Slab" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Arvo" rel="stylesheet">
	<link rel="stylesheet" href="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<link rel="stylesheet" href="sidebar.css" type="text/css" />
	<link rel="stylesheet" href="game-style.css" />

	<!--JavaScript, Bootstrap, APIs-->
	<script type="text/javascript"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
	<script src="node_modules/bootstrap"></script> 

	<!--JavaScript-->
	<script>	

/*
	function loadPlaylist(genre) {
		/* if genre == pop, call proper spotify api =request url... 

		function move();
	}
*/
	function move() {
			var elem = document.getElementById("bar");
			var time = document.getElementById("time");
			var width = 0;
			var id = setInterval(frame, 300);
			function frame() {
					if (width >= 100) {
						time.innerHTML = "Time's up!";
						//function move();

						clearInterval(id);
						
					} else {
						width++;
						elem.style.width = width + '%';
						if (width % 3 == 0){
							/****this is counting too fast*******/
							time.innerHTML = (30 - width/3) + ' s';
						}
					
							/* when width == 100 restart timer, start playing next song clip, reset multiple choice buttons */
							/* can you just call the move func again does it do weird returns like recursion */
						
					}
			}
	}


	var score = 0;
	function updateScore() {
		var scoreDisplay = document.getElementById("score-display");

		/************************************/
		/* check if answer is correct first */
		/* if correct -- a "correct!" message?, add to score, stop timer, go to next song which resets timer and buttons */ 

		/* add 1 to score, maybe more if got it with less time? */
		score += 1;
		scoreDisplay.innerHTML = "Score: " + score;	
	};
	
	</script>

</head>


<body onload="move()">
<!--<body onload="loadPlaylist(params.genre)">-->

<!--Navigation Bar-->
<div id="wrapper">
	<nav class="navbar navbar-inverse">
		<div class="container-fluid">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
       				<span class="icon-bar"></span>
        			<span class="icon-bar"></span>
        			<span class="icon-bar"></span> 
      			</button>
				<a class="navbar-brand" href="#">MIXR</a>
			</div>
			<div class="collapse navbar-collapse" id="myNavbar">
				<ul class="nav navbar-nav navbar-right">
					<li><a href="#"><span class="glyphicon glyphicon-list-alt"></span>Leaderboard</a></li>
					<li><a href="#"><span class="glyphicon glyphicon-user"></span>Login</a></li>
				</ul>
			</div>
		</div>
	</nav>

<!-- Sidebar -->
        <div id="sidebar-wrapper">
            <ul class="sidebar-nav">
                <li class="sidebar-brand">
                	<p> Welcome to Mixr! </p>
                </li>
            </ul>
        </div>
<!-- /#sidebar-wrapper -->

	<h1 id="score-display">Score: 0</h1>

	<!--Timer-->
	<div class="timer-container">
		<div id="time">30 s</div>
		<div class="timer">
			<div id="bar"></div> 
		</div>
	</div>


<!--Multiple Choice Options-->
	<ol class="choices">
		
			<h2>Can you guess the song?</h2>


			<div class="ui-grid-a">
	     		<div class="ui-block-a">
					<li>
					<button type="button" class="btn btn-primary btn-outline" data-toggle="button" aria-pressed="false" autocomplete="off" onclick="updateScore()"><img class="button-album-cover" src="album-cover.jpg"></button>
					</li>

					<li>
					<button type="button" class="btn btn-primary btn-outline" data-toggle="button" aria-pressed="false" autocomplete="off" onclick="updateScore()"><img class="button-album-cover" src="album-cover.jpg"></button>
					</li>
				</div>

				<div class="ui-block-b">
					<li>
					<button type="button" class="btn btn-primary btn-outline" data-toggle="button" aria-pressed="false" autocomplete="off" onclick="updateScore()"><img class="button-album-cover" src="album-cover.jpg"></button>
					</li>

					<li>
					<button type="button" class="btn btn-primary btn-outline" data-toggle="button" aria-pressed="false" autocomplete="off" onclick="updateScore()"><img class="button-album-cover" src="album-cover.jpg"></button>
					</li>
				</div>
	</ol>	


	<div >
		<p><img class="record-gif" alt="spinning record player gif" src="spinning-record.gif" /></p>
		<!-- source: https://thumbs.gfycat.com/AcidicJollyIrukandjijellyfish-size_restricted.gif -->
	</div>
</div>



</body>

</html>
